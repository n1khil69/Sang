<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Be My Valentine ğŸ’˜</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root {
  --bg1:#ffb6c9;
  --bg2:#ffe6ef;
  --card:#ffffffee;
  --text:#5b2333;
  --yes:#ff4d88;
}

body {
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  font-family:system-ui,sans-serif;
  color:var(--text);
  overflow:hidden;
}

body.dark {
  --bg1:#1a0b12;
  --bg2:#2b0f1c;
  --card:#2a1a22ee;
  --text:#ffe4ec;
}

body.dark::before {
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 30% 20%, rgba(255,160,120,.12), transparent 40%),
    radial-gradient(circle at 70% 30%, rgba(255,120,160,.10), transparent 45%);
  animation:candle 6s infinite alternate;
  pointer-events:none;
}

@keyframes candle {
  0%{opacity:.6}
  50%{opacity:.75}
  100%{opacity:.8}
}

.card {
  background:var(--card);
  padding:30px;
  border-radius:30px;
  text-align:center;
  box-shadow:0 20px 60px rgba(255,77,136,.3);
  width:min(720px,92vw);
  position:relative;
}

.art { width:220px; margin:auto }

h1 { font-size:clamp(26px,4vw,42px); font-weight:900 }

.button-zone {
  position:relative;
  height:150px;
  margin-top:10px;
}

button {
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  padding:16px 28px;
  border-radius:999px;
  border:none;
  font-size:18px;
  font-weight:900;
  cursor:pointer;
}

@keyframes heartbeat {
  0%{transform:translateY(-50%) scale(1)}
  20%{transform:translateY(-50%) scale(1.08)}
  40%{transform:translateY(-50%) scale(.98)}
  60%{transform:translateY(-50%) scale(1.1)}
  100%{transform:translateY(-50%) scale(1)}
}

#yesBtn {
  left:18%;
  background:linear-gradient(135deg,#ff6fa1,#ff3b7a);
  color:white;
  animation:heartbeat 1.6s infinite;
}

#noBtn {
  left:60%;
  background:#fce7f3;
  color:#7a2944;
}

@keyframes shake {
  0%{transform:translate(-2px,-50%)}
  50%{transform:translate(2px,-50%)}
  100%{transform:translate(0,-50%)}
}

.hint { font-style:italic; margin-top:12px }

.result { display:none; margin-top:20px }

.fireworks { width:280px }

.heart {
  position:fixed;
  bottom:-20px;
  animation:float 6s linear forwards;
  opacity:.7;
}

@keyframes float {
  from{transform:translateY(0) scale(1)}
  to{transform:translateY(-110vh) scale(1.6);opacity:0}
}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>

<main class="card">
<button id="themeToggle" style="position:absolute;top:14px;right:18px;border:none;background:#0002;border-radius:50%;padding:8px">ğŸŒ™</button>

<!-- Teddy -->
<svg class="art" viewBox="0 0 300 260">
<circle cx="90" cy="80" r="40" fill="#f7c7a1"/>
<circle cx="210" cy="80" r="40" fill="#f7c7a1"/>
<circle cx="150" cy="150" r="90" fill="#f2a97b"/>
<circle cx="120" cy="140" r="8"/>
<circle cx="180" cy="140" r="8"/>
<circle cx="150" cy="160" r="10" fill="#5b2333"/>
<path d="M135 170 Q150 185 165 170" stroke="#5b2333" stroke-width="4" fill="none"/>
<path d="M150 30 C170 10 210 20 210 50 C210 90 150 110 150 140 C150 110 90 90 90 50 C90 20 130 10 150 30Z" fill="#ff4d88"/>
</svg>

<h1>Ghuchupuchu sangu ğŸ¥ºğŸ’—<br>will you be my Valentine?</h1>

<section class="button-zone" id="zone">
  <button id="yesBtn">Yes</button>
  <button id="noBtn">No</button>
</section>

<div class="hint" id="hint">Saying â€œNoâ€ is illegal today ğŸ˜ˆğŸ’˜</div>

<div class="result" id="result">
  <h2>YAYYYY ğŸ¥¹ğŸ’–<br>youâ€™re stuck with me now</h2>
  <p id="typeText"></p>
  <img class="fireworks" src="https://media1.tenor.com/m/LpA0fhN2ywsAAAAC/vekkam-modi.gif">
</div>
</main>

<script>
const zone = document.getElementById("zone");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const result = document.getElementById("result");
const hint = document.getElementById("hint");
const toggle = document.getElementById("themeToggle");

const confettiCanvas = document.getElementById("confettiCanvas");
const confettiInstance = confetti.create(confettiCanvas,{resize:true});

let yesScale = 1;

// vibration helpers
function vibrate(p){ if(navigator.vibrate) navigator.vibrate(p); }

function vibrateByScale(s){
  vibrate([20+(s*20),60,20+(s*20)]);
}

// heartbeat vibration
let beatTimer;
function startBeat(){
  if(!navigator.vibrate) return;
  beatTimer=setInterval(()=>vibrate([18,40,18]),1600);
}
function stopBeat(){ clearInterval(beatTimer); }

startBeat();

function growYes(){
  yesScale=Math.min(2.3,yesScale+.1);
  yesBtn.style.transform=`translateY(-50%) scale(${yesScale})`;
  vibrateByScale(yesScale);
}

zone.addEventListener("pointermove",e=>{
  const b=noBtn.getBoundingClientRect();
  const d=Math.hypot((b.left+b.width/2)-e.clientX,(b.top+b.height/2)-e.clientY);
  if(d<200) vibrate(20);
  if(d<140){
    noBtn.style.animation="shake .18s";
    setTimeout(()=>noBtn.style.animation="",180);
    noBtn.style.left=Math.random()*(zone.clientWidth-b.width)+"px";
    noBtn.style.top=Math.random()*(zone.clientHeight-b.height)+"px";
    noBtn.style.transform="none";
    growYes();
  }
});

const kiss = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-cartoon-kiss-1612.mp3");

const msg="I knew youâ€™d say yes ğŸ’— now come here ğŸ˜˜";
let i=0;
function typeWriter(){
  if(i<msg.length){
    typeText.textContent+=msg[i++];
    setTimeout(typeWriter,60);
  }
}

yesBtn.onclick=()=>{
  stopBeat();
  navigator.vibrate(0);
  kiss.play();
  zone.style.display="none";
  hint.style.display="none";
  result.style.display="block";
  confettiInstance({particleCount:300,spread:140});
  typeWriter();
};

// floating hearts
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.textContent=Math.random()>.5?"ğŸ’—":"ğŸ’–";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},900);

// dark mode toggle + remember
if(localStorage.theme==="dark"){document.body.classList.add("dark");toggle.textContent="â˜€ï¸";}
toggle.onclick=()=>{
  document.body.classList.toggle("dark");
  const d=document.body.classList.contains("dark");
  toggle.textContent=d?"â˜€ï¸":"ğŸŒ™";
  localStorage.theme=d?"dark":"light";
  vibrate(20);
};
</script>
</body>
</html>
